$footer-height = 47px

#canv-css
  display none
html.mobile
  width 100%
  .mobile
    display block

  body
    width 100%
    height 100%
    position absolute

    &.game-pause
      #gamepad
        opacity .7

  #settingsGUIContainer
  , .play-friend
  , .links
  , .multiplayer
  , section.state.game-pause
    display none!important

  .dialog
    bottom $footer-height

  header
    background no-repeat center center
    background-size cover

    h2, h3
      display none

    hgroup
      padding 0

    .nav
      bottom 70px
      width 100%
      padding 0

      a.button
        display none!important

      button 
        width auto
        min-width 0
        padding-left 15px
        padding-right 15px


  #mobile-menu
    absolute top 0 right 0
    z-index 2
    button
      width 46px
      min-width 0
      height 46px
      margin 0
      padding 0
      border none
      display block

      &.play, &.pause
        background $color-blue
        color #205688
      &.sound
        background $color-green
        color #306e2b
      &.info
        background $color-yellow
        color #b58d33
      &.pause
        absolute right 0
        z-index 1

    .game-pause
      transform translateY(0)
      transition transform 300ms
      position relative
      z-index 2

      .inactive
        transform translateY(100%)

  .state.game-prompt
    .prompt
      h1, h2
        font-size 30px

  footer#footer
    display none
    height $footer-height
    pointer-events none
    a
      pointer-events auto

    ul
      padding 13px 0 0 0
      margin-top 0

    .terms, .localization
      display none

    .technology, .sound
      a
        font-family 'icomoon'
        width 20px
        height 20px
        font-size 12px
        border-radius 3px
        display table-cell
        vertical-align middle
        border 1px solid transparent

        &:before
          display inline-block
          text-align center
          width 100%
          vertical-align middle

      span
        display none!important


    .technology
      margin-right 10px
      a
        background $color-yellow
        &:before
          content '⌽'
          color #b58d33
    .sound
      a
        background $color-green
        &:before
          content '♫'
          color #306e2b
        &.off
          &:before
            content '♩'

  body.main-menu
    #footer
      display block

  #canv-pixel
    width 1px
    height 1px
    border 5px solid pink
    background blue
    position absolute
    z-index 3

  #scores
    absolute top 10px left 10px  
    margin 0
    z-index 20
    pointer-events none

    .logo
      h1, img
        display none

    .logo, .multiplayer, .singleplayer
      display inline-block
      vertical-align top
    .multiplayer, .singleplayer
      .player, .opponent
        display inline-block
        margin 0
        margin-left 20px
        p
          font-size 10px
        li
          width 12px
          height 12px

  #gamepad
    display none
    position absolute
    top 20%
    width 100%
    z-index 2
    transition opacity 300ms ease-out

    .button
      background-color #6bba6b
      width 56px
      height 56px
      border-radius 28px
      box-shadow 0 3px 5px rgba(0,0,0,.3) 
      absolute left 5%

      &:before
        content ' '
        absolute bottom 1px left 2px 
        width 52px
        height 52px
        border-radius 26px
        background-color #4daf4d



      &:active
        background-position top right

      &:last-child
        left auto
        right 5%

  .state
    visibility hidden
    display none
    &.active
      visibility visible
      display block
    &.inactive
      .content
        opacity 0

    .content.animate
      transition opacity .3s


    &.game-instructions
      .game-controls
        display none
      .dialog
        bottom $footer-height
        top 0
        height 100%
    &.game-over
      h1
        font-size 30px
        z-index 6
        padding 0 10px
        margin-top 45px 
      .dialog
        height 100%
        top 0
        .content 
          padding-top 50px

  .mobile
    .main-menu 
      width 100%
      height 100%
      position absolute
  .state.game-instructions
    #game-controls
      display none

  #game
    opacity 1
    height 0
    width 0
    left 50%
    top 50%
    overflow visible
    > canvas, > video
      display none

  #canv-css
    display block
    width 1280px
    height 800px
    relative top -380px left -640px
    transform-origin 50% 55%
    .background
      width 2560px
      height 1799px
      z-index 0
      absolute top -670px left -50%
      img
        width 100%
        height 100%

      .bear
        absolute top 249px left 525px
        transform scale(.95)
        img
          width auto
          height auto

    .game-board
      position absolute
      z-index 2
      width 1280px
      height 800px
      perspective 1200px
      perspective-origin 50% 0%
      // transform translateZ(0)
      // transform-style preserve-3d
      backface-visibility hidden

    .shields
      absolute top 0
      letter-spacing 0
      font-size 0
      width 100%
      .shields-a, .shields-b
        absolute top 0px

      .shield
        position absolute
        display inline-block
        background-color rgba(red, 0)
        transform-origin bottom center
        transition-property transform 
        transition-duration .3s
        transition-delay 0s
        transition-timing-function ease-in-out
        transform scaleY(.005) translateZ(0)
        &.visible
          for row in 1 2 3
            &:nth-child({row})
              transition-delay 100ms * (row - 1)
          transform scaleY(1) translateZ(0)

      .shields-a
        top 594px
        left 182px
        z-index 4
        .shield-1
          left 0 10
        .shield-2
          left 309px
        .shield-3
          left 610px

      .shields-b
        top 163px
        left 427px
        z-index 0

        .shield-1
          left 0
        .shield-2
          left 143px
        .shield-3
          left 284px

    .arena
      width 1280px
      height 1900px
      transform rotateX(79deg) translateX(0%) translateZ(-173px) translateY(-75%)

      transform-style preserve-3d
      backface-visibility hidden
      // background linear-gradient(bottom, rgba(255,255,0,.9), rgba(255,255,0,.4))
      position absolute
      z=index 1

  .paddle, .p1, .p2
    position absolute
    transform-style preserve-3d
    transform rotateX(90deg) translateX(200px) translateZ(1567px) translateY(-50%)
    backface-visibility hidden
    transform-origin 50% 50% 0

  .p2
    z-index 3

  .extra
    width:128px
    height:128px;
    display inline-block
    overflow hidden
    background-color yellow
    background-repeat no-repeat
    transform-style preserve-3d
    backface-visibility hidden
    transform-origin 50% 50% 0
    position absolute
    display none
    &.multiball
      display inline-block
      background-color transparent
      background-image url('/images/css/multiball.png')
    &.fog
      background-color transparent
      background-image url('/images/css/fog.png')


.puck
  position absolute
  transform rotateX(-90deg) translateX(585px) translateY(-50%) translateZ(932px)
  backface-visibility hidden
  transform-style preserve-3d
  transform-origin 50% 50% 0

@media (orientation: portrait)
  html.mobile
    #gamepad
      display none!important


@media (orientation: landscape)
  html.mobile
    .state.active
      #gamepad
        display block!important

    #scores
      width 100%

      .logo
        absolute right 70px 
      
      .singleplayer, .multiplayer
        .player, .opponent
          display block
          margin-bottom 20px

      p, 
      ol
        float left

    .dialog
      bottom 0

    header .nav
      bottom 10px

    #game
      top 45%

    body.main-menu
      #footer
        display inline-block
        background-color transparent

