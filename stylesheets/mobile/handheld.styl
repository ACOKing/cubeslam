$footer-height = 47px
@keyframes extra-icon-pulse
  0%, 100% 
    transform translate(0, 0px) scale(.9)
  50%
    transform translate(0, -7px) scale(1.1)

@keyframes effect-ghostball-pulse
  0%, 100% 
    opacity .4
  50%
    opacity .1

@keyframes effect-force
  0%
    background-position: -510px -359px
  100%
    background-position: 250px -359px


#canv-css
  display none
html.mobile
  width 100%
  background $color-beige
  .touch
    #debug-info
      display none!important

  .mobile
    display block

  body
    width 100%
    height 100%
    position absolute
    background $color-beige

    &.mirror
      #gamepad
        transform scaleX(-1)


    &.game-pause
      #gamepad
        opacity .7
      button.pause
        transition-delay 0ms
        transform translateX(100%)

  #settingsGUIContainer
  , .play-friend
  , .play-computer
  , button.main-menu
  , .links
  , .multiplayer
  , section.state.game-pause
  , #extras
    display none!important

  .dialog
    bottom $footer-height

  header
    background no-repeat center center
    background-size cover
    transition-duration 1ms

    h1
      padding 0 0 0 0
      margin 0
      position relative 
      top 5%

    .nav
      bottom 70px
      width 100%
      padding 0

      a.button
        display none!important

      button 
        width auto
        min-width 0
        padding-left 15px
        padding-right 15px

    .play-mobile
      display inline-block

    .notifications
      display none


  #mobile-menu
    position absolute 
    top 45px 
    right 0
    z-index 2
    button
      width 48px
      height 48px
      min-width 0
      margin 0
      padding 0
      border none
      display block

      &.play
        background $color-blue
        color $color-beige
      &.pause
        background $color-beige
        color $color-blue
      &.sound
        background $color-green
        color #306e2b
      &.info
        background $color-yellow
        color #b58d33
      &.pause
        position absolute 
        right 0
        z-index 1
        transition transform 250ms
        transition-delay .7s

    .game-pause, .game-play
      transform translateX(0)
      position relative
      z-index 2
      transition transform 300ms ease-out 
      transition-delay 300ms
      display block!important

      &.inactive
        transform translateX(100%)
        transition-delay 0ms

  .state.game-prompt
    transform translate3d(0,0,1)
    backface-visibility hidden
    .background
      transition none
      height 60px
      margin-top -30px
      top 50%
      transform translateZ(0)
      backface-visibility hidden

    // .content
    //   transition-duration 0!important
    //   transition-delay .1ms!important

    .prompt
      transform translateZ(0)
      backface-visibility hidden
      h1, h2, h3, h4
        font-size 30px

  footer#footer
    display none
    height $footer-height
    pointer-events none
    a
      pointer-events auto
      width 22px
      height 22px

    ul
      padding 11px 0 0 0
      margin-top 0

      li
        margin-left 13px

        &:first-child
          margin-left 0

    .terms, .localization
      display none

    .technology, .sound
      a
        font-family 'icomoon'
        font-size 12px
        border-radius 3px
        display table-cell
        vertical-align middle
        border 1px solid transparent

        &:before
          display inline-block
          text-align center
          width 100%
          vertical-align middle

      span
        display none!important


    .technology
      a
        background $color-yellow
        &:before
          content '⌽'
          color #b58d33
    .sound
      a
        background $color-green
        &:before
          content '♫'
          color #306e2b
        &.off
          &:before
            content '♩'

  body.main-menu
    #footer
      display block

  #scores
    position absolute 
    top 10px 
    left 0
    width 100%
    margin 0
    z-index 1
    pointer-events none
    box-sizing border-box

    .logo
      position absolute 
      right 14px
      .level
        margin-top 6px
      p
        float none
      h1, img
        display none

    .logo, .multiplayer, .singleplayer
      display inline-block
      vertical-align top
    .multiplayer, .singleplayer
      .player, .opponent
        display inline-block
        margin 0
        margin-left 20px
        p
          font-size 10px
          width 35px
          margin 0 0 2px
        li
          width 12px
          height 12px
          &:before
            box-shadow none

  #gamepad
    display none!important
    position absolute 
    bottom 50%
    width 100%
    z-index 2
    transition opacity 300ms ease-out

    button
      background-color #6bba6b
      width 72px
      height 72px
      border-radius 36px
      box-shadow 0 3px 5px rgba(0,0,0,.3) 
      position absolute 
      left 5%
      padding 0
      outline 0
      border 0

      &.left:before
        left 20px
      &.right:before
        left 26px

      &:after
        content ' '
        position absolute 
        bottom 1px 
        left 4.2%
        width 93%
        height 93%
        border-radius 93%
        background-color #4daf4d

      &:before
        font-size 36px
        color #295d21
        position absolute 
        top 27%
        z-index 2


      &:active, &.down
        box-shadow 0 1px 3px rgba(0,0,0,.1) 
        top 2px
        &:after
          bottom inherit
          top 1px 

      &:last-child
        left auto
        right 5%

  .state
    visibility hidden
    &.active
      visibility visible

    .dialog
      .content.animate
        transition-duration 1ms

    &.game-instructions
      .game-controls
        display none!important
      .dialog
        bottom $footer-height
        top 0
        height 100%
      .content
        transition none
      &.inactive
        display none!important
        .content
          transform translateX(-100%)
      &.active
        .content
          transform translateX( 0 )
    &.game-over
      .dialog
        h1
          font-size 30px
          margin-top 0
          text-align center

        height 100%
        min-height 0
        top 0
        .content
          padding-bottom 0
        .scoreboard
          padding 0 0 15px
        .social
          display none
          li
            margin-right 5px
          a
            padding 5px
        button
          width auto
          padding 10px 20px
          margin-left 0

  .mobile
    .main-menu
      width 100%
      height 100%
      position absolute
    .cssinfo
      position absolute

    
    h4.game-over
      position absolute
      z-index 5
      width 100%
      top 0
      font-size 30px
      color #ffd05a
      text-shadow 0 0.1em 0 #876b2a
      pointer-events none


  .state.game-instructions
    #game-controls
      display none

  #game
    opacity 1
    height 0
    width 0
    left 50%
    top 50%
    overflow visible
    > canvas, > video
      display none

@import 'mobilebreakpoints'